<!DOCTYPE html>
<html>
<head>
    <title>Karaoke</title>
</head>
<body style="padding: 10px">
    <h1 id="title">Karaoke</h1>
    <div style="display:flex; gap:50px" id="container">
        <button onclick="registerPresenter()">Registrar dispositivo como presentador</button>
    </div>
    <div id="status" style="margin-top: 20px;"></div>
</body>
<script>
async function registerPresenter() {
    try {
        const response = await fetch("/presenter", {
            "method": "POST",
            "headers": {
                "Content-Type": "application/json",
            },
            "body": "{}"
        });
        const data = await response.json();
        if (response.ok) {
            document.getElementById("status").innerHTML = `<p style="color: green;">Te registraste como presentador exitosamente</p>`;
            window.location.reload();
        } else {
            document.getElementById("status").innerHTML = `<p style="color: red;">Error: ${data.error}</p>`;
        }
    } catch (error) {
        document.getElementById("status").innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
    }
}
</script>
</html>
